<script src="https://kit.fontawesome.com/c2565ebea9.js" crossorigin="anonymous"></script>
<script>
document.addEventListener("DOMContentLoaded", function() {
  var toc = document.getElementById('TOC');
  if (toc) {
    var tocTitle = document.getElementById('toc-title');
    if (tocTitle) {
      tocTitle.remove();
    }
    var activeSidebarItem = document.querySelector('.sidebar-item .active');
    if (activeSidebarItem) {
      activeSidebarItem.closest('.sidebar-item').appendChild(toc);
    }

    // Add click listener to TOC links to close sidebar on mobile
    toc.addEventListener('click', function(e) {
      if (e.target.tagName === 'A' && window.innerWidth < 992) {
        var toggleButton = document.querySelector('.quarto-btn-toggle');
        if (toggleButton) {
          toggleButton.click();
        }
      }
    });
  }
});
</script>
<script> // Remove duplication of "Preface" in TOC. Used in conjunction with h2 in index.qmd having .unlisted class.
    // Wait until the DOM is fully loaded
    document.addEventListener("DOMContentLoaded", function() {
      document.body.classList.remove("fullcontent");
    });
  </script>
